{% extends "base.html" %}

{% block title %}ì„œë²„ ì˜¤ë¥˜ - ìˆ­ì‹¤ëŒ€í•™êµ ê³µì§€ì‚¬í•­{% endblock %}

{% block styles %}
<style>
    .error-container {
        max-width: 600px;
        margin: 80px auto;
        padding: 40px 20px;
        text-align: center;
    }
    
    .error-icon {
        font-size: 120px;
        margin-bottom: 20px;
        display: block;
    }
    
    .error-code {
        font-size: 72px;
        font-weight: bold;
        color: var(--error-color);
        margin-bottom: 10px;
        letter-spacing: -2px;
    }
    
    .error-title {
        font-size: 28px;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 16px;
    }
    
    .error-description {
        font-size: 16px;
        color: var(--text-secondary);
        line-height: 1.6;
        margin-bottom: 32px;
    }
    
    .error-actions {
        display: flex;
        gap: 16px;
        justify-content: center;
        flex-wrap: wrap;
    }
    
    .error-button {
        padding: 12px 24px;
        border-radius: 8px;
        text-decoration: none;
        font-weight: 500;
        transition: all 0.2s ease;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        border: none;
        cursor: pointer;
        font-family: inherit;
        font-size: 14px;
    }
    
    .error-button-primary {
        background: var(--primary-color);
        color: white;
    }
    
    .error-button-primary:hover {
        background: var(--primary-light);
        transform: translateY(-1px);
    }
    
    .error-button-secondary {
        background: var(--background-tertiary);
        color: var(--text-primary);
        border: 1px solid var(--border-light);
    }
    
    .error-button-secondary:hover {
        background: var(--background-secondary);
        transform: translateY(-1px);
    }
    
    .error-info {
        background: var(--background-secondary);
        border-radius: 8px;
        padding: 20px;
        margin: 32px 0;
        border-left: 4px solid var(--warning-color);
    }
    
    .error-info-title {
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        gap: 8px;
    }
    
    .error-info-text {
        color: var(--text-secondary);
        font-size: 14px;
        line-height: 1.5;
    }
    
    @media (max-width: 768px) {
        .error-container {
            margin: 40px auto;
            padding: 20px;
        }
        
        .error-icon {
            font-size: 80px;
        }
        
        .error-code {
            font-size: 48px;
        }
        
        .error-title {
            font-size: 24px;
        }
        
        .error-actions {
            flex-direction: column;
            align-items: center;
        }
        
        .error-button {
            width: 100%;
            max-width: 280px;
            justify-content: center;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="error-container">
    <span class="error-icon">âš ï¸</span>
    <div class="error-code">500</div>
    <h1 class="error-title">ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜</h1>
    <p class="error-description">
        ì£„ì†¡í•©ë‹ˆë‹¤. ì„œë²„ì—ì„œ ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.<br>
        ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì‹œê±°ë‚˜, ê³„ì† ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•´ì£¼ì„¸ìš”.
    </p>
    
    <div class="error-info">
        <div class="error-info-title">
            <span>ğŸ’¡</span>
            ì´ëŸ° ê²½ìš°ì— ë„ì›€ì´ ë  ìˆ˜ ìˆì–´ìš”
        </div>
        <div class="error-info-text">
            â€¢ í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ë³´ì„¸ìš”<br>
            â€¢ ì ì‹œ í›„ ë‹¤ì‹œ ì ‘ì†í•´ë³´ì„¸ìš”<br>
            â€¢ ë¸Œë¼ìš°ì € ìºì‹œë¥¼ ì‚­ì œí•´ë³´ì„¸ìš”<br>
            â€¢ ë¬¸ì œê°€ ì§€ì†ë˜ë©´ ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•´ì£¼ì„¸ìš”
        </div>
    </div>
    
    <div class="error-actions">
        <button onclick="location.reload()" class="error-button error-button-primary">
            <span>ğŸ”„</span>
            í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
        </button>
        <a href="{{ url_for('index') }}" class="error-button error-button-secondary">
            <span>ğŸ </span>
            í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°
        </a>
        {% if url_for('contact') %}
        <a href="{{ url_for('contact') }}" class="error-button error-button-secondary">
            <span>ğŸ“§</span>
            ë¬¸ì˜í•˜ê¸°
        </a>
        {% endif %}
    </div>
</div>

<script>
    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì˜¤ë¥˜ ì •ë³´ë¥¼ ì½˜ì†”ì— ê¸°ë¡
    console.error('500 Internal Server Error occurred at:', new Date().toISOString());
    
    // ìë™ ìƒˆë¡œê³ ì¹¨ ì¹´ìš´í„° (ì„ íƒì )
    let autoRefreshTimeout;
    
    function showAutoRefreshOption() {
        const container = document.querySelector('.error-actions');
        const autoRefreshBtn = document.createElement('button');
        autoRefreshBtn.className = 'error-button error-button-secondary';
        autoRefreshBtn.innerHTML = '<span>â±ï¸</span> 30ì´ˆ í›„ ìë™ ìƒˆë¡œê³ ì¹¨';
        autoRefreshBtn.disabled = true;
        container.appendChild(autoRefreshBtn);
        
        let countdown = 30;
        const countdownInterval = setInterval(() => {
            countdown--;
            autoRefreshBtn.innerHTML = `<span>â±ï¸</span> ${countdown}ì´ˆ í›„ ìë™ ìƒˆë¡œê³ ì¹¨`;
            
            if (countdown <= 0) {
                clearInterval(countdownInterval);
                location.reload();
            }
        }, 1000);
        
        // ì‚¬ìš©ìê°€ ë‹¤ë¥¸ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ìë™ ìƒˆë¡œê³ ì¹¨ ì·¨ì†Œ
        document.querySelectorAll('.error-button:not(:last-child)').forEach(btn => {
            btn.addEventListener('click', () => {
                clearInterval(countdownInterval);
                clearTimeout(autoRefreshTimeout);
            });
        });
    }
    
    // 5ì´ˆ í›„ ìë™ ìƒˆë¡œê³ ì¹¨ ì˜µì…˜ í‘œì‹œ (ì„ íƒì )
    // autoRefreshTimeout = setTimeout(showAutoRefreshOption, 5000);
</script>
{% endblock %}